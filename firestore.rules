rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {
    // Candles collection
    match /candles/{candleId} {
      allow read: if true; // Anyone can read candles
      allow create: if true; // Anyone can create candles
      allow update, delete: if false; // Only through Cloud Functions
    }

    // Events collection
    match /events/{eventId} {
      allow read: if true; // Anyone can read events
      allow write: if false; // Only through Cloud Functions
    }

    // Event Types collection
    match /eventTypes/{typeId} {
      allow read: if true; // Anyone can read event types
      allow write: if false; // Only through Cloud Functions
    }

    // Subscribers collection
    match /subscribers/{subscriberId} {
      allow read: if true; // Authenticated users can read
      allow create: if true; // Anyone can subscribe
      allow update, delete: if false; // Only through Cloud Functions
    }

    // Forbidden Words collection
    match /ForbiddenWords/{wordId} {
      allow read: if true; // Anyone can read forbidden words
      allow write: if false; // Only through Cloud Functions
    }

    // Galleries collection
    match /galleries/{galleryId} {
      allow read: if true; // Anyone can view galleries
      allow write: if false; // Only through Cloud Functions
    }

    // Activity Logs collection - Only Cloud Functions can write
    match /activityLogs/{logId} {
      allow read: if true; // Only admins should read logs
      allow write: if true; // Cloud Functions can write (they run with admin privileges)
    }
  }
}